{"version":3,"sources":["components/SparkleNavs/SparkleUserDetailOrLogin/SparkleAskLogin/SparkleAskLogin.module.scss","components/SparkleNavs/SparkleCollectionNodes/SparkleCollectionNodes.module.scss","components/helper/SparkleCard/SparkleCard.module.scss","components/helper/SparkleMarkdownEditor/SparkleMarkdownEditor.module.scss","store/store.tsx","components/SparkleHeader/SparkleHeader.tsx","logo.svg","apis/news/index.ts","apis/user/register.ts","apis/user/login.ts","apis/index.ts","components/helper/SparkleCard/SparkleCard.tsx","components/SparkleNavs/SparkleRandList/SparkleRandList.tsx","apis/nav/rank.ts","components/SparkleMain/SparkleNews/SparkleNews.tsx","components/helper/SparkleBreadcrumb/SparkleBreadcrumb.tsx","components/SparkleMain/SparkleNodes/SparkleNodes.tsx","apis/nav/nodes.ts","components/SparkleMain/SparkleIndex/SparkleIndex.tsx","components/SparkleMain/SparkleLogin/SparkleLogin.tsx","components/SparkleMain/SparkleRegister/SparkleRegister.tsx","components/SparkleNavs/SparkleUserDetailOrLogin/SparkleUserDetail/SparkleUserDetail.tsx","components/SparkleNavs/SparkleUserDetailOrLogin/SparkleAskLogin/SparkleAskLogin.tsx","components/SparkleNavs/SparkleUserDetailOrLogin/SparkleUserDetailOrLogin.tsx","components/helper/SparkleMarkdownRender/SparkleMarkdownRender.tsx","components/SparkleMain/SparkleArticle/SparklePost/SparklePost.tsx","components/SparkleMain/SparkleArticle/SparkleComment/SparkleComment.tsx","components/SparkleMain/SparkleArticle/SparkleArticle.tsx","components/helper/SparkleScrollToTop.tsx","components/helper/SparkleMarkdownEditor/SparkleMarkdownEditor.tsx","components/SparkleMain/SparkleCreate/SparkleCreate.tsx","components/SparkleNavs/SparkleCollectionNodes/SparkleCollectionNodes.tsx","components/SparkleMain/SparkleMain.tsx","components/SparkleFooter/SparkleFooter.tsx","apis/mock/index.ts","App.tsx","reportWebVitals.js","index.tsx","components/SparkleNavs/SparkleUserDetailOrLogin/SparkleUserDetail/SparkleUserDetail.module.scss","components/SparkleNavs/SparkleRandList/SparkleRankList.module.scss","components/SparkleMain/SparkleArticle/SparkleComment/SparkleComment.module.scss","components/SparkleMain/SparkleNodes/SparkleNodes.module.scss","components/SparkleMain/SparkleArticle/SparklePost/SparklePost.module.scss","components/SparkleMain/SparkleCreate/SparkleCreate.module.scss"],"names":["module","exports","initState","localStorage","getItem","JSON","parse","_id","userReducer","user","action","type","payload","Error","AllContext","React","createContext","userDispatch","Provider","props","useReducer","value","children","SparkleHeader","useContext","operator","to","username","onClick","e","preventDefault","removeItem","className","href","prefix","SearchOutlined","getGoNodes","tabId","axios","get","getNews","doRegister","post","doUniqueEmail","email","doLogin","defaults","baseURL","withCredentials","interceptors","response","use","resp","error","message","console","log","Promise","reject","SparkleCard","style","sparkleCard","SparkleRandList","state","rankList","rank","this","map","index","srlStyle","head","src","logo","alt","title","srl","then","status","setState","data","Component","SparkleNews","tabs","currentTabId","gos","news","changeTab","bind","length","tab","paragraph","active","go","url","nnew","topper","author","moment","parseInt","time","fromNow","lastResp","count","respNumber","backgroundColor","fontWeight","fontSize","ins","push","avatar","rows","NProgress","start","getData","goNodesResp","newsResp","done","all","ans","SparkleBreadcrumb","sep","separator","generate","items","item","Item","str","SparkleNodes","useState","nodes","setNode","pathname","useLocation","useEffect","row","name","body","SparkleIndex","SparkleLogin","Form","useForm","form","history","useHistory","values","a","code","success","remember","setItem","stringify","initialValues","onFinish","wrapperCol","span","rules","required","UserOutlined","placeholder","LockOutlined","valuePropName","noStyle","htmlType","formItemLayout","labelCol","tailFormItemLayout","xs","offset","sm","SparkleRegister","document","addEventListener","debounceUniqueEmail","_","debounce","uniqueEmail","unique","scrollToFirstError","label","hasFeedback","getFieldValue","validator","rule","undefined","resolve","Password","dependencies","QuestionCircleOutlined","whitespace","SparkleUserDetail","userDetail","ud","middle","block","nodeCollectionSize","topicCollectionSize","specialFollowSize","newTopic","FileTextOutlined","info","SparkleAskLogin","register","SparkleUserDetailOrLogin","SparkleMarkdownRender","ht","MarkdownIt","highlight","lang","hljs","getLanguage","__","render","content","dangerouslySetInnerHTML","__html","SparklePost","articleId","userId","posterId","article","poster","SparkleComment","size","page","comments","commenter","Date","getMilliseconds","comment","currentPage","main","defaultCurrent","total","SparkleArticle","useParams","SparkleScrollToTop","window","scrollTo","SparkleMarkdownEditor","codeMirrorRef","editor","mode","createRef","checked","setOption","placement","EyeOutlined","changeMode","activate","EditOutlined","SplitCellsOutlined","defaultChecked","onChange","changeLineWrapper","inputer","ref","left","none","right","CodeMirror","current","lineNumbers","lineWrapping","extraKeys","Tab","cm","replaceSelection","Array","join","throttleRender","throttle","doit","on","instance","changeObj","getDoc","getValue","change","SparkleCreate","setTitle","setContent","setTopic","Option","Select","create","target","submit","showSearch","width","border","SparkleCollectionNodes","dragging","container","containerRef","dragStart","event","currentTarget","dragOver","getAttribute","draggingIndex","targetIndex","parentNode","insertBefore","nextSibling","setAttribute","node","draggable","onDragStart","onDragOver","data-index","SparkleMain","path","SparkleFooter","Mock","setup","timeout","mock","len","Random","integer","i","ctitle","word","csentence","cname","date","authorAvatar","authorUrl","l","j","nodeId","navigator","userAgent","toLowerCase","indexOf","ondrop","stopPropagation","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.95d04048.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"SparkleAskLogin_title__3sp7b\",\"body\":\"SparkleAskLogin_body__BF-qz\",\"register\":\"SparkleAskLogin_register__2-Tbw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"SparkleCollectionNodes_title__2XyPN\",\"nodes\":\"SparkleCollectionNodes_nodes__1p_HZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sparkleCard\":\"SparkleCard_sparkleCard__18W2M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"SparkleMarkdownEditor_editor__ifSbL\",\"operator\":\"SparkleMarkdownEditor_operator__3NZ2H\",\"mode\":\"SparkleMarkdownEditor_mode__3udpu\",\"inputer\":\"SparkleMarkdownEditor_inputer__25ZoQ\",\"left\":\"SparkleMarkdownEditor_left__3sswN\",\"right\":\"SparkleMarkdownEditor_right__26odp\",\"activate\":\"SparkleMarkdownEditor_activate__2Y3zc\",\"none\":\"SparkleMarkdownEditor_none__1eEc5\"};","import {DefaultProps} from \"../types/framework\";\r\nimport React, {useReducer} from \"react\";\r\nimport {User} from \"../types/navs/article\";\r\n\r\n\r\nexport interface UserDetail {\r\n    _id: string | null,\r\n    token?: string,\r\n    username?: string,\r\n    email?: string,\r\n    nodeCollectionSize?: number,\r\n    topicCollectionSize?: number,\r\n    specialFollowSize?: number,\r\n}\r\n\r\n\r\nconst initState: UserDetail = localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\") as string) : {_id: null};\r\n\r\ntype UserReducerType = keyof {\r\n    \"setUser\": string,\r\n    \"removeUser\": string\r\n}\r\n\r\nfunction userReducer(user: UserDetail, action:{type: UserReducerType, payload: UserDetail} ): UserDetail {\r\n    switch(action.type) {\r\n        case 'setUser': return action.payload;\r\n        case 'removeUser': return {_id: null};\r\n        default: throw new Error();\r\n    }\r\n}\r\nexport const AllContext = React.createContext({user: {_id: null} as UserDetail, userDispatch: (() => {} ) as React.Dispatch<{type: UserReducerType, payload: UserDetail}>});\r\nfunction Provider(props: DefaultProps) {\r\n\r\n    const [user, userDispatch] = useReducer(userReducer, initState);\r\n\r\n    return <AllContext.Provider value={{user, userDispatch}}>\r\n        {props.children}\r\n        </AllContext.Provider>\r\n}\r\n\r\n\r\nexport default Provider;\r\n","import React, {useContext} from 'react'\r\nimport {SearchOutlined} from '@ant-design/icons'\r\nimport {Input} from 'antd'\r\nimport {Link} from 'react-router-dom'\r\nimport './SparkleHeader.scss'\r\nimport {AllContext, UserDetail} from \"../../store/store\";\r\nfunction SparkleHeader() {\r\n    const {user, userDispatch} = useContext(AllContext);\r\n    function logout(e: React.MouseEvent) {\r\n        e.preventDefault();\r\n        localStorage.removeItem(\"user\");\r\n\r\n        userDispatch({type:\"removeUser\", payload: {} as UserDetail})\r\n    }\r\n    const operator = !(user._id) ?\r\n        <>\r\n            <span><Link to=\"/register\">注册</Link></span>\r\n            <span><Link to=\"/login\">登录</Link></span>\r\n        </>\r\n        :\r\n        <>\r\n            <span><Link to={`/user/${user._id}`}>{user.username}</Link></span>\r\n            <span><button onClick={logout}>退出</button></span>\r\n        </>\r\n    return <header>\r\n        <div className=\"container\">\r\n            <div className=\"header_wrapper\">\r\n                <div className=\"title\">\r\n                    <h1><a href=\"/\">Sparkle</a></h1>\r\n                    <div className=\"search\">\r\n                        <Input type=\"text\" className=\"search_input\" prefix={<SearchOutlined/>}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"opera\">\r\n                    <span><Link to=\"/\">首页</Link></span>\r\n                    {operator}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default SparkleHeader;\r\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import axios, {AxiosResponse} from 'axios'\r\n\r\nfunction getTabs(): Promise<AxiosResponse<Array<string>>>{\r\n   return axios.get('/api/v1/tabs');\r\n}\r\n\r\nfunction getGoNodes(tabId: string | number): Promise<AxiosResponse<Array<string>>>{\r\n    return axios.get(`/api/v1/gos/${tabId}`)\r\n}\r\n\r\nfunction getNews(tabId : string | number): Promise<AxiosResponse<Array<string>>> {\r\n    return axios.get(`/api/v1/news/${tabId}`)\r\n}\r\n\r\nexport  {\r\n    getTabs,\r\n    getGoNodes,\r\n    getNews\r\n}\r\n","import axios, {AxiosResponse} from 'axios';\r\nimport {RegisterReq, RegisterRes} from \"../../types/main/register\";\r\nimport {Resp} from \"../../types/base/HTTP\";\r\n\r\nexport function doRegister(user: RegisterReq): Promise<AxiosResponse<Resp<RegisterRes>>> {\r\n    return axios.post('/api/v1/user/register', user);\r\n}\r\n\r\nexport function doUniqueEmail(email: string): Promise<AxiosResponse<Resp<{ unique: boolean }>>> {\r\n    return axios.post('/api/v1/user/uniqueEmail', {email});\r\n}\r\n","import axios, {AxiosResponse} from 'axios';\r\nimport {LoginReq, LoginRespData} from \"../../types/main/login\";\r\nimport {Resp} from \"../../types/base/HTTP\";\r\n\r\nexport function doLogin(user: LoginReq): Promise<AxiosResponse<Resp<LoginRespData>>> {\r\n    return axios.post('/api/v1/user/login', user);\r\n}\r\n","import {getTabs, getGoNodes, getNews} from \"./news\";\r\nimport {getRankList} from \"./nav/rank\";\r\nimport {doRegister, doUniqueEmail} from \"./user/register\";\r\nimport {doLogin} from \"./user/login\";\r\nimport axios from 'axios';\r\nimport {message} from \"antd\";\r\naxios.defaults.baseURL = \"http://localhost:3005\";\r\naxios.defaults.withCredentials = true; // 允许携带cookie\r\naxios.interceptors.response.use((resp) => {\r\n    return resp;\r\n}, (error) => {\r\n    message.error(\"请求错误！\");\r\n    console.log(error);\r\n    return Promise.reject(error);\r\n})\r\n\r\n\r\nexport {\r\n    getTabs, getGoNodes, getNews, getRankList, doRegister, doLogin, doUniqueEmail\r\n}\r\n","import {DefaultProps} from \"../../../types/framework\";\r\nimport React from \"react\";\r\nimport style from './SparkleCard.module.scss';\r\n\r\nfunction SparkleCard(props: DefaultProps) {\r\n\r\n    return <div className={props.className + ` ${style.sparkleCard} card`}>\r\n        {props.children}\r\n    </div>\r\n}\r\n\r\nexport default SparkleCard;\r\n","import React from 'react'\r\nimport {DefaultProps} from \"../../../types/framework\";\r\nimport srlStyle from './SparkleRankList.module.scss'\r\nimport logo from '../../../logo.svg'\r\nimport {RankListState} from '../../../types/navs/rankList'\r\nimport {getRankList} from \"../../../apis\";\r\nimport SparkleCard from \"../../helper/SparkleCard/SparkleCard\";\r\n\r\nclass SparkleRandList extends React.Component<DefaultProps, any> {\r\n    state: RankListState;\r\n    constructor(props: DefaultProps) {\r\n        super(props);\r\n        this.state = {\r\n            rankList: []\r\n        }\r\n    }\r\n    render() {\r\n        const rank = this.state.rankList.map((rank, index) => {\r\n            return  <div className={srlStyle.rank} key={index}>\r\n                <div className={srlStyle.head}>\r\n                    <img src={logo} alt=\"#\"/>\r\n                </div>\r\n\r\n                <div className={srlStyle.title}>\r\n                    <span>{rank.title}</span>\r\n                </div>\r\n            </div>\r\n        })\r\n        return <SparkleCard className={this.props.className + ` ${srlStyle.srl}`}>\r\n            <div className={srlStyle.title}>\r\n                <h2>今日热议主题</h2>\r\n            </div>\r\n            {rank}\r\n        </SparkleCard>;\r\n    }\r\n    componentDidMount() {\r\n        getRankList().then(resp => {\r\n            if(resp.status === 200) {\r\n                this.setState({\r\n                    rankList: resp.data\r\n                })\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default SparkleRandList;\r\n","import axios, {AxiosResponse} from 'axios'\r\nimport {RankList} from \"../../types/navs/rankList\";\r\n\r\nexport function getRankList():  Promise<AxiosResponse<RankList[]>> {\r\n    return axios.get('/api/v1/rank')\r\n}\r\n","import React from 'react';\r\nimport {Badge, Skeleton} from 'antd'\r\nimport './SparkleNews.scss'\r\nimport logo from '../../../logo.svg'\r\nimport {getTabs, getGoNodes, getNews} from \"../../../apis\";\r\nimport {GoNodesAndNews, NewsState} from '../../../types/main/mainPage'\r\nimport {DefaultProps} from \"../../../types/framework\";\r\nimport NProgress from 'nprogress'\r\nimport moment from 'moment'\r\nimport SparkleCard from \"../../helper/SparkleCard/SparkleCard\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass SparkleNews extends React.Component<DefaultProps, any> {\r\n    state: NewsState;\r\n    constructor(props: DefaultProps) {\r\n        super(props);\r\n        this.state = {\r\n            tabs: [], // 最上方的切换页\r\n            currentTabId: -1,\r\n            gos: [],\r\n            news: []\r\n        };\r\n        this.changeTab = this.changeTab.bind(this);\r\n    }\r\n    render() {\r\n        let tabs;\r\n        if(!this.state.tabs.length) {\r\n            tabs = <Skeleton paragraph={false} active/>;\r\n        } else {\r\n            tabs = this.state.tabs.map((tab, index) => {\r\n                return <span key={index} onClick={() => this.changeTab(tab.tabId)} className={tab.tabId === this.state.currentTabId ? 'current':'' } >{tab.value}</span>\r\n            })\r\n        }\r\n\r\n\r\n        let gos;\r\n        if(!this.state.gos.length) {\r\n            gos = <Skeleton paragraph={false} active/>\r\n        } else {\r\n            gos = this.state.gos.map((go, index) => {\r\n                return <Link to={go.url} key={index}><span>{go.value}</span></Link>\r\n            })\r\n        }\r\n\r\n\r\n        let news;\r\n        if(!this.state.news.length) {\r\n            news = [];\r\n            for(let ins = 0; ins < 10; ins++) {\r\n                news.push(<Skeleton avatar={true} key={ins} paragraph={{rows: 1}} className=\"new\" active/>)\r\n            }\r\n        } else {\r\n            news = this.state.news.map((nnew, index) => {\r\n                return <div key={index} className={`new ${nnew.topper ? \"topper\" : \"\"}`}>\r\n                    <div className=\"left\">\r\n                        <div className=\"avatar\">\r\n                            <img src={logo} alt=\"#\"/>\r\n                        </div>\r\n                        <div className=\"info\">\r\n                            <div className=\"title\">\r\n                                <Link to=\"/article/123\"><span>{nnew.title}</span></Link>\r\n                            </div>\r\n                            <div className=\"desc\">\r\n                                <span className=\"topic\">{nnew.go}</span>\r\n                                <span>{nnew.author}</span>\r\n                                <span>{moment(parseInt(nnew.time)).fromNow()}</span>\r\n                                <span>最后回复来自 <span>{nnew.lastResp}</span></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"tail\">\r\n                        <Badge count={nnew.respNumber} style={{backgroundColor: \"lightgray\", fontWeight: 'bold', fontSize: '16px'}}/>\r\n                    </div>\r\n                </div>\r\n            })\r\n        }\r\n\r\n\r\n        return <SparkleCard className={this.props.className + ' news_panel'}>\r\n            <div className=\"tabs\">\r\n                {tabs}\r\n            </div>\r\n\r\n            <div className=\"gos\">\r\n                {gos}\r\n            </div>\r\n\r\n            <div className=\"news\">\r\n                {news}\r\n            </div>\r\n        </SparkleCard>\r\n    }\r\n    componentDidMount() {\r\n        // 挂载声明周期\r\n        // 取得tabs数据\r\n        // TODO exception handler\r\n        getTabs().then((response) => {\r\n            if(response.status === 200) {\r\n                this.setState({\r\n                    tabs: response.data,\r\n                }, () => {\r\n                    this.changeTab(this.state.tabs[0].tabId)\r\n                });\r\n            }\r\n        })\r\n\r\n    }\r\n    changeTab(tabId: number): void {\r\n        NProgress.start();\r\n        this.setState({\r\n            news:[],\r\n            gos:[],\r\n            currentTabId: tabId\r\n        })\r\n        this.getData(tabId).then(data => {\r\n            if(data.goNodesResp.status === 200) {\r\n                this.setState({\r\n                    gos: data.goNodesResp.data\r\n                })\r\n            }\r\n\r\n            if(data.newsResp.status === 200) {\r\n                this.setState({\r\n                    news: data.newsResp.data\r\n                })\r\n            }\r\n\r\n            NProgress.done();\r\n        })\r\n\r\n    }\r\n\r\n    async getData(tabId: string | number): Promise<GoNodesAndNews> {\r\n        let ans = await Promise.all([getGoNodes(tabId), getNews(tabId)])\r\n        return {\r\n            goNodesResp: ans[0],\r\n            newsResp: ans[1]\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default SparkleNews;\r\n","import {DefaultProps} from \"../../../types/framework\";\r\nimport {Breadcrumb} from 'antd';\r\nimport React from \"react\";\r\n\r\nexport interface Item {\r\n    str: string,\r\n    href?: string,\r\n}\r\nexport interface SparkleBreadcrumbProps extends DefaultProps {\r\n    items: Array<string | Item>,\r\n    separator?: string,\r\n}\r\n\r\nfunction SparkleBreadcrumb(props: SparkleBreadcrumbProps) {\r\n\r\n    const sep = props.separator;\r\n    const items = props.items;\r\n    const generate = items.map((item, index) => {\r\n        if(typeof item === 'string') {\r\n            return <Breadcrumb.Item key={index}>{item}</Breadcrumb.Item>;\r\n        } else {\r\n            return <Breadcrumb.Item href={item.href} key={index}>{item.str}</Breadcrumb.Item>\r\n        }\r\n    });\r\n\r\n    return <Breadcrumb separator={sep ? sep : \">\"}>\r\n        {generate}\r\n    </Breadcrumb>\r\n}\r\n\r\nexport default SparkleBreadcrumb;\r\n","import React, {useEffect, useState} from 'react';\r\nimport SparkleCard from \"../../helper/SparkleCard/SparkleCard\";\r\nimport style from './SparkleNodes.module.scss';\r\nimport {getNodes} from \"../../../apis/nav/nodes\";\r\nimport {Node} from \"../../../types/navs/nodes\";\r\nimport {useLocation} from \"react-router-dom\";\r\nimport SparkleBreadcrumb from \"../../helper/SparkleBreadcrumb/SparkleBreadcrumb\";\r\n\r\nfunction SparkleNodes() {\r\n    const [nodes, setNode] = useState<Node[]>([]);\r\n    const { pathname } = useLocation();\r\n    useEffect( () => {\r\n        const nodes = getNodes();\r\n        nodes.then(resp => {\r\n            if(resp.status === 200) {\r\n                setNode(resp.data);\r\n            }\r\n        })\r\n    }, [pathname]);\r\n\r\n    const ans = nodes.map((value, index) => {\r\n        return <div className={style.row} key={index}>\r\n                <span className={style.title}>\r\n                    {value.name}\r\n                </span>\r\n            <ul>\r\n                {value.children?.map((value, index) => <li key={index}>{value.name}</li>)}\r\n            </ul>\r\n        </div>\r\n    })\r\n\r\n    return <SparkleCard>\r\n        <div className={style.head}>\r\n            <span>\r\n                <SparkleBreadcrumb separator={\">\"} items={[\"Sparkle\", \"节点导航\"]}/>\r\n            </span>\r\n\r\n            <span>\r\n                浏览全部节点\r\n            </span>\r\n        </div>\r\n        <div className={style.body}>\r\n            {ans}\r\n        </div>\r\n    </SparkleCard>;\r\n}\r\n\r\nexport default SparkleNodes;\r\n","import {AxiosResponse} from \"axios\";\r\nimport {Node} from \"../../types/navs/nodes\";\r\nimport axios from 'axios';\r\n\r\nexport function getNodes(): Promise<AxiosResponse<Node[]>> {\r\n    return axios.get('/api/v1/nodes');\r\n}\r\n","import React from \"react\";\r\nimport SparkleNews from \"../SparkleNews/SparkleNews\";\r\nimport SparkleCard from \"../../helper/SparkleCard/SparkleCard\";\r\nimport SparkleNodes from \"../SparkleNodes/SparkleNodes\";\r\n\r\nclass SparkleIndex extends React.Component<any, any> {\r\n    render() {\r\n        return <>\r\n            <SparkleNews />\r\n            <SparkleNodes />\r\n        </>\r\n    }\r\n}\r\n\r\nexport default SparkleIndex;\r\n","import {Form, Input, Button, Checkbox, message} from 'antd';\r\nimport {UserOutlined, LockOutlined} from '@ant-design/icons';\r\nimport React, {useContext} from \"react\";\r\nimport {LoginReq} from \"../../../types/main/login\";\r\nimport {doLogin} from \"../../../apis\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport SparkleCard from \"../../helper/SparkleCard/SparkleCard\";\r\nimport './SparkleLogin.scss';\r\nimport {AllContext} from \"../../../store/store\";\r\n\r\nconst SparkleLogin = () => {\r\n    const [form] = Form.useForm();\r\n    const history = useHistory();\r\n    const {user, userDispatch} = useContext(AllContext);\r\n    async function onLogin(values: LoginReq) {\r\n        //  登录\r\n        let resp = await doLogin(values);\r\n        if(resp.data.code === 200) {\r\n            message.success(\"登录成功！\");\r\n            // 记录登陆成功\r\n            userDispatch({type: 'setUser', payload: resp.data.data});\r\n            if(values.remember) {\r\n                // 本地记录登录信息，下次访问页面时自动登录\r\n                localStorage.setItem(\"user\", JSON.stringify(resp.data.data));\r\n            }\r\n            history.push('/');\r\n        } else {\r\n            message.error(\"用户名或密码错误\");\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <SparkleCard className=\"login-panel\">\r\n            <h1>登录</h1>\r\n            <Form\r\n                name=\"login\"\r\n                initialValues={{remember: true}}\r\n                onFinish={onLogin}\r\n                form={form}\r\n                wrapperCol={{ span: 14 }}\r\n            >\r\n                <Form.Item\r\n                    name=\"email\"\r\n                    rules={[{required: true, message: 'Please input your email!'}]}\r\n                >\r\n                    <Input prefix={<UserOutlined className=\"site-form-item-icon\"/>} placeholder=\"Email\"/>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"password\"\r\n                    rules={[{required: true, message: 'Please input your Password!'}]}\r\n                >\r\n                    <Input\r\n                        prefix={<LockOutlined className=\"site-form-item-icon\"/>}\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n                        <Checkbox>记住我</Checkbox>\r\n                    </Form.Item>\r\n\r\n                    <a className=\"login-form-forgot\" href=\"/forgot\">\r\n                        忘记密码?\r\n                    </a>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\">\r\n                        登录\r\n                    </Button>\r\n                    <span> Or </span><a href=\"/register\">注册一个</a>\r\n                </Form.Item>\r\n            </Form>\r\n        </SparkleCard>\r\n    );\r\n};\r\n\r\nexport default SparkleLogin;\r\n","import React, {useContext} from 'react';\r\nimport {Button, Form, Input, message, Tooltip,} from 'antd';\r\nimport {QuestionCircleOutlined} from '@ant-design/icons';\r\nimport './SparkleRegister.scss';\r\nimport {doRegister, doUniqueEmail} from \"../../../apis\";\r\nimport {RegisterReq} from \"../../../types/main/register\";\r\nimport SparkleCard from \"../../helper/SparkleCard/SparkleCard\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport _ from 'lodash';\r\nimport {AllContext} from \"../../../store/store\";\r\n\r\n\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        span: 6,\r\n    },\r\n    wrapperCol: {\r\n            span: 8,\r\n    },\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {\r\n        xs: {\r\n            span: 24,\r\n            offset: 0,\r\n        },\r\n        sm: {\r\n            span: 16,\r\n            offset: 8,\r\n        },\r\n    },\r\n};\r\n\r\nconst SparkleRegister = () => {\r\n    const [form] = Form.useForm();\r\n\r\n    const history = useHistory();\r\n    const {user, userDispatch} = useContext(AllContext);\r\n    async function onRegister(user: RegisterReq) {\r\n        let resp = await doRegister(user);\r\n\r\n        if(resp.data.code === 200) {\r\n            message.success(\"注册成功\");\r\n\r\n            userDispatch({type: 'setUser', payload: resp.data.data});\r\n            document.addEventListener('focus', ()=>{})\r\n            history.push('/');\r\n        } else {\r\n            message.error(\"注册失败，检查邮箱、密码、用户名是否满足规范\");\r\n        }\r\n    }\r\n    const debounceUniqueEmail = _.debounce(doUniqueEmail, 1300);\r\n    async function uniqueEmail(email: string) {\r\n\r\n        let resp = await debounceUniqueEmail(email);\r\n        return resp?.data.data.unique;\r\n    }\r\n\r\n    return (\r\n        <SparkleCard className=\"register-panel\">\r\n            <h1>注册</h1>\r\n        <Form\r\n            {...formItemLayout}\r\n            form={form}\r\n            name=\"register\"\r\n            onFinish={onRegister}\r\n            scrollToFirstError\r\n        >\r\n            <Form.Item\r\n                name=\"email\"\r\n                label=\"邮箱\"\r\n                hasFeedback\r\n                rules={[\r\n                    {\r\n                        type: 'email',\r\n                        message: 'The input is not valid E-mail!',\r\n                    },\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input your E-mail!',\r\n                    },\r\n                    ({getFieldValue}) => ({\r\n                        async validator(rule, value) {\r\n                            const unique = await uniqueEmail(value);\r\n                            if(unique === undefined || unique) {\r\n                                return Promise.resolve();\r\n                            }\r\n                            return Promise.reject('邮箱已被占用');\r\n                        },\r\n                    }),\r\n                ]}\r\n            >\r\n                <Input/>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"password\"\r\n                label=\"密码\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input your password!',\r\n                    },\r\n                ]}\r\n                hasFeedback\r\n            >\r\n                <Input.Password/>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"confirm\"\r\n                label=\"重复密码\"\r\n                dependencies={['password']}\r\n                hasFeedback\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: 'Please confirm your password!',\r\n                    },\r\n                    ({getFieldValue}) => ({\r\n                        validator(rule, value) {\r\n                            if (!value || getFieldValue('password') === value) {\r\n                                return Promise.resolve();\r\n                            }\r\n\r\n                            return Promise.reject('The two passwords that you entered do not match!');\r\n                        },\r\n                    }),\r\n                ]}\r\n            >\r\n                <Input.Password/>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"username\"\r\n                label={\r\n                    <span>\r\n        用户名&nbsp;\r\n                        <Tooltip title=\"What do you want others to call you?\">\r\n        <QuestionCircleOutlined/>\r\n        </Tooltip>\r\n        </span>\r\n                }\r\n                hasFeedback\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input your nickname!',\r\n                        whitespace: true,\r\n                    },\r\n                ]}\r\n            >\r\n                <Input/>\r\n            </Form.Item>\r\n\r\n            <Form.Item {...tailFormItemLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    注册\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n        </SparkleCard>\r\n    );\r\n};\r\n\r\nexport default SparkleRegister;\r\n","import {FileTextOutlined} from '@ant-design/icons'\r\nimport logo from '../../../../logo.svg'\r\nimport {DefaultProps} from \"../../../../types/framework\";\r\nimport style from './SparkleUserDetail.module.scss'\r\nimport SparkleCard from \"../../../helper/SparkleCard/SparkleCard\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useContext} from \"react\";\r\nimport {AllContext} from \"../../../../store/store\";\r\n\r\nfunction SparkleUserDetail(props: DefaultProps) {\r\n    const {user: userDetail} = useContext(AllContext);\r\n    return <SparkleCard className={props.className + ` ${style.ud}`}>\r\n        <div className={style.head}>\r\n            <img src={logo} alt=\"\"/>\r\n            <span>{userDetail.username}</span>\r\n            {/*    todo: 夜间模式*/}\r\n        </div>\r\n        <div className={style.middle}>\r\n            <div className={style.block}>\r\n                <span>{userDetail.nodeCollectionSize ?? 0}</span>\r\n                <span>节点收藏</span>\r\n            </div>\r\n\r\n            <div className={style.block}>\r\n                <span>{userDetail.topicCollectionSize ?? 0}</span>\r\n                <span>节点收藏</span>\r\n            </div>\r\n\r\n            <div className={style.block}>\r\n                <span>{userDetail.specialFollowSize ?? 0}</span>\r\n                <span>特别关注</span>\r\n            </div>\r\n        </div>\r\n        <div className={style.newTopic}>\r\n            <Link to=\"/create\"><FileTextOutlined/>\r\n            <span>创作新主题</span></Link>\r\n        </div>\r\n        <div className={style.info}>\r\n            <div className=\"unread\">\r\n                <span>0条未读提醒</span>\r\n            </div>\r\n        </div>\r\n    </SparkleCard>\r\n}\r\n\r\n\r\nexport default SparkleUserDetail;\r\n","import {DefaultProps} from \"../../../../types/framework\";\r\nimport {Button} from \"antd\";\r\nimport React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport style from './SparkleAskLogin.module.scss';\r\nimport {useHistory} from 'react-router-dom';\r\nimport SparkleCard from \"../../../helper/SparkleCard/SparkleCard\";\r\n\r\nfunction SparkleAskLogin(props: DefaultProps) {\r\n    const history = useHistory();\r\n    function goRegister() {\r\n        history.push('/register');\r\n    }\r\n\r\n    return <SparkleCard className={props.className}>\r\n        <div className={style.title}>\r\n            <h2>Sparkle 社区</h2>\r\n        </div>\r\n\r\n        <div className={style.body}>\r\n            <Button type=\"default\" onClick={goRegister} className={style.register}>现在注册</Button>\r\n            <div>已注册用户请 <Link to=\"/login\">登录</Link></div>\r\n        </div>\r\n    </SparkleCard>\r\n}\r\n\r\nexport default SparkleAskLogin;\r\n","import {DefaultProps} from \"../../../types/framework\";\r\nimport SparkleUserDetail from \"./SparkleUserDetail/SparkleUserDetail\";\r\nimport React, {useContext} from \"react\";\r\nimport SparkleAskLogin from './SparkleAskLogin/SparkleAskLogin';\r\nimport {AllContext} from \"../../../store/store\";\r\n\r\nfunction SparkleUserDetailOrLogin(props: DefaultProps) {\r\n    const {user} = useContext(AllContext);\r\n\r\n    const view = user._id ? <SparkleUserDetail className={props.className}/> : <SparkleAskLogin className={props.className}/>;\r\n\r\n    return view\r\n}\r\n\r\n\r\nexport default SparkleUserDetailOrLogin;\r\n","import React from 'react';\r\nimport {DefaultProps} from \"../../../types/framework\";\r\nimport MarkdownIt from \"markdown-it\";\r\nimport hljs from \"highlight.js\";\r\nimport 'highlight.js/styles/github.css';\r\nimport './SparkleMarkdownRender.scss'\r\n\r\ninterface MarkdownRenderProps extends DefaultProps {\r\n    content: string\r\n}\r\n\r\nfunction SparkleMarkdownRender(props: MarkdownRenderProps) {\r\n    const md = MarkdownIt({\r\n        highlight: function (str, lang) {\r\n            if (lang && hljs.getLanguage(lang)) {\r\n                try {\r\n                    return hljs.highlight(lang, str).value;\r\n                } catch (__) {}\r\n            }\r\n\r\n            return ''; // 使用额外的默认转义\r\n        }\r\n    });\r\n\r\n    const ht = md.render(props.content);\r\n    return <div dangerouslySetInnerHTML={{__html: ht}}/>\r\n}\r\n\r\nexport default SparkleMarkdownRender;\r\n","import {DefaultProps} from \"../../../../types/framework\";\r\nimport React, {useState} from \"react\";\r\nimport {Article, User} from \"../../../../types/navs/article\";\r\nimport SparkleCard from \"../../../helper/SparkleCard/SparkleCard\";\r\nimport style from './SparklePost.module.scss';\r\nimport SparkleBreadcrumb from \"../../../helper/SparkleBreadcrumb/SparkleBreadcrumb\";\r\nimport logo from '../../../../logo.svg';\r\nimport SparkleMarkdownRender from \"../../../helper/SparkleMarkdownRender/SparkleMarkdownRender\";\r\n\r\n\r\nexport interface PostProps extends DefaultProps {\r\n    articleId: string\r\n}\r\n\r\nfunction SparklePost(props: PostProps) {\r\n    const articleId = props.articleId;\r\n\r\n    const [tabs, setTabs] = useState<string[]>([\"Sparkle\", \"程序员\"]);\r\n    const [user, setUser] = useState<User>({\r\n        name: null,\r\n        userId: null\r\n    });\r\n\r\n    const [article, setArticle] = useState<Article>({\r\n        articleId: articleId,\r\n        posterId: null,\r\n        post: {\r\n            title: \"现代 JavaScript： ES6+ 中的 Imports， Exports， Let， Const 和 Promise\",\r\n            content: \"# 欢迎使用Markdown编辑器\\n\" +\r\n                \"\\n\" +\r\n                \"你好！ 这是你第一次使用 **Markdown编辑器** 所展示的欢迎页。如果你想学习如何使用Markdown编辑器, 可以仔细阅读这篇文章，了解一下Markdown的基本语法知识。\\n\" +\r\n                \"\\n\" +\r\n                \"## 新的改变\\n\" +\r\n                \"\\n\" +\r\n                \"我们对Markdown编辑器进行了一些功能拓展与语法支持，除了标准的Markdown编辑器功能，我们增加了如下几点新功能，帮助你用它写博客：\\n\" +\r\n                \" 1. **全新的界面设计** ，将会带来全新的写作体验；\\n\" +\r\n                \" 2. 在创作中心设置你喜爱的代码高亮样式，Markdown **将代码片显示选择的高亮样式** 进行展示；\\n\" +\r\n                \" 3. 增加了 **图片拖拽** 功能，你可以将本地的图片直接拖拽到编辑区域直接展示；\\n\" +\r\n                \" 4. 全新的 **KaTeX数学公式** 语法；\\n\" +\r\n                \" 5. 增加了支持**甘特图的mermaid语法[^1]** 功能；\\n\" +\r\n                \" 6. 增加了 **多屏幕编辑** Markdown文章功能；\\n\" +\r\n                \" 7. 增加了 **焦点写作模式、预览模式、简洁写作模式、左右区域同步滚轮设置** 等功能，功能按钮位于编辑区域与预览区域中间；\\n\" +\r\n                \" 8. 增加了 **检查列表** 功能。\\n\" +\r\n                \" [^1]: [mermaid语法说明](https://mermaidjs.github.io/)\\n\" +\r\n                \"\\n\" +\r\n                \"## 功能快捷键\\n\" +\r\n                \"\\n\" +\r\n                \"撤销：<kbd>Ctrl/Command</kbd> + <kbd>Z</kbd>\\n\" +\r\n                \"重做：<kbd>Ctrl/Command</kbd> + <kbd>Y</kbd>\\n\" +\r\n                \"加粗：<kbd>Ctrl/Command</kbd> + <kbd>B</kbd>\\n\" +\r\n                \"斜体：<kbd>Ctrl/Command</kbd> + <kbd>I</kbd>\\n\" +\r\n                \"标题：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>H</kbd>\\n\" +\r\n                \"无序列表：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>U</kbd>\\n\" +\r\n                \"有序列表：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd>\\n\" +\r\n                \"检查列表：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>\\n\" +\r\n                \"插入代码：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>K</kbd>\\n\" +\r\n                \"插入链接：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>L</kbd>\\n\" +\r\n                \"插入图片：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>G</kbd>\\n\" +\r\n                \"查找：<kbd>Ctrl/Command</kbd> + <kbd>F</kbd>\\n\" +\r\n                \"替换：<kbd>Ctrl/Command</kbd> + <kbd>G</kbd>\\n\" +\r\n                \"\\n\" +\r\n                \"## 合理的创建标题，有助于目录的生成\\n\" +\r\n                \"```java\"+\r\n                \"\\n\"+\r\n                \"public class Main{\\npublic static void main(String[] args){}\\n}\"+\r\n                \"\\n\" +\r\n                \"```\"+\r\n                \"\\n\" +\r\n                \"直接输入1次<kbd>#</kbd>，并按下<kbd>space</kbd>后，将生成1级标题。\\n\" +\r\n                \"输入2次<kbd>#</kbd>，并按下<kbd>space</kbd>后，将生成2级标题。\\n\" +\r\n                \"以此类推，我们支持6级标题。有助于使用`TOC`语法后生成一个完美的目录。\\n\" +\r\n                \"\\n\" +\r\n                \"## 如何改变文本的样式\\n\" +\r\n                \"\\n\" +\r\n                \"*强调文本* _强调文本_\\n\" +\r\n                \"\\n\" +\r\n                \"**加粗文本** __加粗文本__\\n\" +\r\n                \"\\n\" +\r\n                \"==标记文本==\\n\" +\r\n                \"\\n\" +\r\n                \"~~删除文本~~\\n\" +\r\n                \"\\n\" +\r\n                \"> 引用文本\\n\" +\r\n                \"\\n\" +\r\n                \"H~2~O is是液体。\\n\" +\r\n                \"\\n\" +\r\n                \"2^10^ 运算结果是 1024.\\n\" +\r\n                \"\\n\" +\r\n                \"## 插入链接与图片\\n\" +\r\n                \"\\n\" +\r\n                \"链接: [link](https://www.csdn.net/).\\n\" +\r\n                \"\\n\" +\r\n                \"图片: ![Alt](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hdmF0YXIuY3Nkbi5uZXQvNy83L0IvMV9yYWxmX2h4MTYzY29tLmpwZw)\\n\" +\r\n                \"\\n\" +\r\n                \"带尺寸的图片: ![Alt](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hdmF0YXIuY3Nkbi5uZXQvNy83L0IvMV9yYWxmX2h4MTYzY29tLmpwZw =30x30)\\n\" +\r\n                \"\\n\" +\r\n                \"居中的图片: ![Alt](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hdmF0YXIuY3Nkbi5uZXQvNy83L0IvMV9yYWxmX2h4MTYzY29tLmpwZw#pic_center)\\n\" +\r\n                \"\\n\" +\r\n                \"居中并且带尺寸的图片: ![Alt](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hdmF0YXIuY3Nkbi5uZXQvNy83L0IvMV9yYWxmX2h4MTYzY29tLmpwZw#pic_center =30x30)\\n\" +\r\n                \"\\n\" +\r\n                \"当然，我们为了让用户更加便捷，我们增加了图片拖拽功能。\\n\" +\r\n                \"\\n\" +\r\n                \"## 如何插入一段漂亮的代码片\\n\" +\r\n                \"\\n\" +\r\n                \"去[博客设置](https://mp.csdn.net/console/configBlog)页面，选择一款你喜欢的代码片高亮样式，下面展示同样高亮的 `代码片`.\\n\" +\r\n                \"```javascript\\n\" +\r\n                \"// An highlighted block\\n\" +\r\n                \"var foo = 'bar';\\n\" +\r\n                \"```\\n\" +\r\n                \"\\n\" +\r\n                \"## 生成一个适合你的列表\\n\" +\r\n                \"\\n\" +\r\n                \"- 项目\\n\" +\r\n                \"  - 项目\\n\" +\r\n                \"    - 项目\\n\" +\r\n                \"\\n\" +\r\n                \"1. 项目1\\n\" +\r\n                \"2. 项目2\\n\" +\r\n                \"3. 项目3\\n\" +\r\n                \"\\n\" +\r\n                \"- [ ] 计划任务\\n\" +\r\n                \"- [x] 完成任务\\n\" +\r\n                \"\\n\" +\r\n                \"## 创建一个表格\\n\" +\r\n                \"一个简单的表格是这么创建的：\\n\" +\r\n                \"项目     | Value\\n\" +\r\n                \"-------- | -----\\n\" +\r\n                \"电脑  | $1600\\n\" +\r\n                \"手机  | $12\\n\" +\r\n                \"导管  | $1\\n\" +\r\n                \"\\n\" +\r\n                \"### 设定内容居中、居左、居右\\n\" +\r\n                \"使用`:---------:`居中\\n\" +\r\n                \"使用`:----------`居左\\n\" +\r\n                \"使用`----------:`居右\\n\" +\r\n                \"| 第一列       | 第二列         | 第三列        |\\n\" +\r\n                \"|:-----------:| -------------:|:-------------|\\n\" +\r\n                \"| 第一列文本居中 | 第二列文本居右  | 第三列文本居左 |\\n\" +\r\n                \"\\n\" +\r\n                \"### SmartyPants\\n\" +\r\n                \"SmartyPants将ASCII标点字符转换为“智能”印刷标点HTML实体。例如：\\n\" +\r\n                \"|    TYPE   |ASCII                          |HTML\\n\" +\r\n                \"|----------------|-------------------------------|-----------------------------|\\n\" +\r\n                \"|Single backticks|`'Isn't this fun?'`            |'Isn't this fun?'            |\\n\" +\r\n                \"|Quotes          |`\\\"Isn't this fun?\\\"`            |\\\"Isn't this fun?\\\"            |\\n\" +\r\n                \"|Dashes          |`-- is en-dash, --- is em-dash`|-- is en-dash, --- is em-dash|\\n\" +\r\n                \"\\n\" +\r\n                \"## 创建一个自定义列表\\n\" +\r\n                \"Markdown\\n\" +\r\n                \":  Text-to-HTML conversion tool\\n\" +\r\n                \"\\n\" +\r\n                \"Authors\\n\" +\r\n                \":  John\\n\" +\r\n                \":  Luke\\n\" +\r\n                \"\\n\" +\r\n                \"## 如何创建一个注脚\\n\" +\r\n                \"\\n\" +\r\n                \"一个具有注脚的文本。[^2]\\n\" +\r\n                \"\\n\" +\r\n                \"[^2]: 注脚的解释\\n\" +\r\n                \"\\n\" +\r\n                \"##  注释也是必不可少的\\n\" +\r\n                \"\\n\" +\r\n                \"Markdown将文本转换为 HTML。\\n\" +\r\n                \"\\n\" +\r\n                \"*[HTML]:   超文本标记语言\\n\" +\r\n                \"\\n\" +\r\n                \"## KaTeX数学公式\\n\" +\r\n                \"\\n\" +\r\n                \"您可以使用渲染LaTeX数学表达式 [KaTeX](https://khan.github.io/KaTeX/):\\n\" +\r\n                \"\\n\" +\r\n                \"Gamma公式展示 $\\\\Gamma(n) = (n-1)!\\\\quad\\\\forall\\n\" +\r\n                \"n\\\\in\\\\mathbb N$ 是通过欧拉积分\\n\" +\r\n                \"\\n\" +\r\n                \"$$\\n\" +\r\n                \"\\\\Gamma(z) = \\\\int_0^\\\\infty t^{z-1}e^{-t}dt\\\\,.\\n\" +\r\n                \"$$\\n\" +\r\n                \"\\n\" +\r\n                \"> 你可以找到更多关于的信息 **LaTeX** 数学表达式[here][1].\\n\" +\r\n                \"\\n\" +\r\n                \"## 新的甘特图功能，丰富你的文章\\n\" +\r\n                \"\\n\" +\r\n                \"```mermaid\\n\" +\r\n                \"gantt\\n\" +\r\n                \"        dateFormat  YYYY-MM-DD\\n\" +\r\n                \"        title Adding GANTT diagram functionality to mermaid\\n\" +\r\n                \"        section 现有任务\\n\" +\r\n                \"        已完成               :done,    des1, 2014-01-06,2014-01-08\\n\" +\r\n                \"        进行中               :active,  des2, 2014-01-09, 3d\\n\" +\r\n                \"        计划一               :         des3, after des2, 5d\\n\" +\r\n                \"        计划二               :         des4, after des3, 5d\\n\" +\r\n                \"```\\n\" +\r\n                \"- 关于 **甘特图** 语法，参考 [这儿][2],\\n\" +\r\n                \"\\n\" +\r\n                \"## UML 图表\\n\" +\r\n                \"\\n\" +\r\n                \"可以使用UML图表进行渲染。 [Mermaid](https://mermaidjs.github.io/). 例如下面产生的一个序列图：\\n\" +\r\n                \"\\n\" +\r\n                \"```mermaid\\n\" +\r\n                \"sequenceDiagram\\n\" +\r\n                \"张三 ->> 李四: 你好！李四, 最近怎么样?\\n\" +\r\n                \"李四-->>王五: 你最近怎么样，王五？\\n\" +\r\n                \"李四--x 张三: 我很好，谢谢!\\n\" +\r\n                \"李四-x 王五: 我很好，谢谢!\\n\" +\r\n                \"Note right of 王五: 李四想了很长时间, 文字太长了<br/>不适合放在一行.\\n\" +\r\n                \"\\n\" +\r\n                \"李四-->>张三: 打量着王五...\\n\" +\r\n                \"张三->>王五: 很好... 王五, 你怎么样?\\n\" +\r\n                \"```\\n\" +\r\n                \"\\n\" +\r\n                \"这将产生一个流程图。:\\n\" +\r\n                \"\\n\" +\r\n                \"```mermaid\\n\" +\r\n                \"graph LR\\n\" +\r\n                \"A[长方形] -- 链接 --> B((圆))\\n\" +\r\n                \"A --> C(圆角长方形)\\n\" +\r\n                \"B --> D{菱形}\\n\" +\r\n                \"C --> D\\n\" +\r\n                \"```\\n\" +\r\n                \"\\n\" +\r\n                \"- 关于 **Mermaid** 语法，参考 [这儿][3],\\n\" +\r\n                \"\\n\" +\r\n                \"## FLowchart流程图\\n\" +\r\n                \"\\n\" +\r\n                \"我们依旧会支持flowchart的流程图：\\n\" +\r\n                \"```mermaid\\n\" +\r\n                \"flowchat\\n\" +\r\n                \"st=>start: 开始\\n\" +\r\n                \"e=>end: 结束\\n\" +\r\n                \"op=>operation: 我的操作\\n\" +\r\n                \"cond=>condition: 确认？\\n\" +\r\n                \"\\n\" +\r\n                \"st->op->cond\\n\" +\r\n                \"cond(yes)->e\\n\" +\r\n                \"cond(no)->op\\n\" +\r\n                \"```\\n\" +\r\n                \"\\n\" +\r\n                \"- 关于 **Flowchart流程图** 语法，参考 [这儿][4].\\n\" +\r\n                \"\\n\" +\r\n                \"## 导出与导入\\n\" +\r\n                \"\\n\" +\r\n                \"###  导出\\n\" +\r\n                \"如果你想尝试使用此编辑器, 你可以在此篇文章任意编辑。当你完成了一篇文章的写作, 在上方工具栏找到 **文章导出** ，生成一个.md文件或者.html文件进行本地保存。\\n\" +\r\n                \"\\n\" +\r\n                \"### 导入\\n\" +\r\n                \"如果你想加载一篇你写过的.md文件，在上方工具栏可以选择导入功能进行对应扩展名的文件导入，\\n\" +\r\n                \"继续你的创作。\\n\" +\r\n                \"\\n\" +\r\n                \" [1]: http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference\\n\" +\r\n                \" [2]: https://mermaidjs.github.io/\\n\" +\r\n                \" [3]: https://mermaidjs.github.io/\\n\" +\r\n                \" [4]: http://adrai.github.io/flowchart.js/\"\r\n        },\r\n    });\r\n\r\n    return <SparkleCard className={props.className}>\r\n        <div className={style.head}>\r\n            <div className={style.title}>\r\n                <SparkleBreadcrumb items={tabs} />\r\n                <h1>{article.post.title}</h1>\r\n            </div>\r\n\r\n            <div className={style.poster}>\r\n                <img src={logo} alt=\"\"/>\r\n            </div>\r\n        </div>\r\n        <div className={style.body}>\r\n            <SparkleMarkdownRender content={article.post.content}/>\r\n        </div>\r\n    </SparkleCard>\r\n}\r\n\r\nexport default SparklePost;\r\n","import {PostProps} from \"../SparklePost/SparklePost\";\r\nimport React, {useState} from \"react\";\r\nimport {ArticleComment} from \"../../../../types/navs/article\";\r\nimport SparkleCard from \"../../../helper/SparkleCard/SparkleCard\";\r\nimport style from './SparkleComment.module.scss'\r\nimport { Pagination } from 'antd';\r\nimport logo from '../../../../logo.svg';\r\n\r\nexport interface CommentProps extends PostProps {}\r\n\r\nfunction SparkleComment(props: CommentProps) {\r\n    const articleId = props.articleId;\r\n\r\n    const [comment, setComment] = useState<ArticleComment>({\r\n        size: 50,\r\n        page: 30,\r\n        comments: [\r\n            {\r\n                commenter: {\r\n                    name: \"翠花\",\r\n                    userId: \"aw3xs\"\r\n                },\r\n                time: new Date().getMilliseconds(),\r\n                comment: \"好棒，支持！！！\"\r\n            },\r\n            {\r\n                commenter: {\r\n                    name: \"翠花\",\r\n                    userId: \"aw3xs\"\r\n                },\r\n                time: new Date().getMilliseconds(),\r\n                comment: \"好棒，支持！！！\"\r\n            },\r\n        ]\r\n    });\r\n    const [currentPage, setCurrentPage] = useState<number>(1);\r\n\r\n    const comments = comment.comments?.map((value, index) =>　{\r\n        return <div className={style.comment} key={index}>\r\n            <div className={style.avatar}>\r\n                <img src={logo} alt=\"#\"/>\r\n            </div>\r\n            <div className={style.main}>\r\n                <div className={style.user}>\r\n                    <span>{value.commenter.name}</span>\r\n                    <span>{value.time}</span>\r\n                </div>\r\n                <div className=\"content\">\r\n                    <span>{value.comment}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    });\r\n    return <SparkleCard className={props.className}>\r\n        <div className={style.title}>\r\n            <span>{comment.size} 条回复</span>\r\n        </div>\r\n\r\n        <div className=\"comments\">\r\n            <Pagination defaultCurrent={currentPage} total={comment.page} />\r\n\r\n            {comments}\r\n\r\n        </div>\r\n    </SparkleCard>\r\n}\r\n\r\nexport default SparkleComment;\r\n","import {useParams} from 'react-router-dom';\r\n\r\nimport SparklePost from \"./SparklePost/SparklePost\";\r\nimport SparkleComment from \"./SparkleComment/SparkleComment\";\r\nimport React from \"react\";\r\n\r\nfunction SparkleArticle() {\r\n    const {articleId} = useParams<{ articleId: string }>();\r\n\r\n    return <>\r\n        <SparklePost articleId={articleId}/>\r\n\r\n        <SparkleComment articleId={articleId}/>\r\n    </>;\r\n}\r\n\r\nexport default SparkleArticle;\r\n","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function SparkleScrollToTop() {\r\n    const { pathname } = useLocation();\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, [pathname]);\r\n\r\n    return null;\r\n}\r\n","import React, {ForwardedRef} from 'react';\r\nimport style from './SparkleMarkdownEditor.module.scss';\r\nimport './SparkleMarkdownEditor.scss'\r\nimport {DefaultProps} from \"../../../types/framework\";\r\nimport CodeMirror from 'codemirror';\r\nimport \"codemirror/lib/codemirror.css\";\r\nimport 'codemirror/mode/markdown/markdown';\r\nimport SparkleMarkdownRender from \"../SparkleMarkdownRender/SparkleMarkdownRender\";\r\nimport _ from 'lodash';\r\nimport {Switch, Tooltip} from \"antd\";\r\nimport {EditOutlined, EyeOutlined, SplitCellsOutlined} from \"@ant-design/icons\";\r\n\r\nexport interface SparkleMarkdownEditorProps extends DefaultProps {\r\n    change:(content:string)=>void;\r\n}\r\nclass SparkleMarkdownEditor extends React.Component<SparkleMarkdownEditorProps, any>{\r\n    private readonly codeMirrorRef: React.RefObject<HTMLDivElement>;\r\n    private editor?: CodeMirror.Editor;\r\n    constructor(props: SparkleMarkdownEditorProps) {\r\n        super(props);\r\n        this.state = {\r\n            content: '',\r\n            mode: 'realtime'\r\n        };\r\n        this.codeMirrorRef = React.createRef();\r\n    }\r\n\r\n    changeLineWrapper(checked: boolean) {\r\n        this.editor?.setOption('lineWrapping', checked);\r\n    }\r\n\r\n    changeMode(mode: 'realtime' | 'preview' | 'edit') {\r\n        this.setState({mode: mode});\r\n    }\r\n\r\n    render(){\r\n\r\n        return <div className={style.editor}>\r\n            <div className={style.operator}>\r\n                <div className={style.mode}>\r\n                    <Tooltip placement=\"bottom\" title=\"预览\">\r\n                        <EyeOutlined onClick={() => {this.changeMode('preview')}} className={this.state.mode === 'preview' ? style.activate : ''}/>\r\n                    </Tooltip>\r\n\r\n                    <Tooltip placement=\"bottom\" title=\"编辑\">\r\n                    <EditOutlined onClick={() => {this.changeMode('edit')}} className={this.state.mode === 'edit' ? style.activate : ''}/>\r\n                    </Tooltip>\r\n                    <Tooltip placement=\"bottom\" title=\"实时\">\r\n                    <SplitCellsOutlined onClick={() => {this.changeMode('realtime')}} className={this.state.mode === 'realtime' ? style.activate : ''}/>\r\n                    </Tooltip>\r\n                </div>\r\n                <span>自动换行 <Switch defaultChecked onChange={this.changeLineWrapper.bind(this)}></Switch></span>\r\n            </div>\r\n            <div className={style.inputer}>\r\n                <div ref={this.codeMirrorRef} className={`${style.left} ${this.state.mode==='preview' ? style.none : ''}`} />\r\n                <div className={`${style.right} ${this.state.mode==='edit' ? style.none : ''}`}>\r\n                    <SparkleMarkdownRender content={this.state.content}/>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.editor = CodeMirror(this.codeMirrorRef.current as HTMLElement, {\r\n            mode: \"markdown\",\r\n            lineNumbers: true,\r\n            lineWrapping: true,\r\n            extraKeys: {\r\n                Tab: function(cm) {\r\n                    cm.replaceSelection(Array(5).join(\" \"));\r\n                }\r\n            }\r\n        });\r\n        const throttleRender = _.throttle((doit) => {\r\n            doit();\r\n        }, 1000);\r\n        this.editor.on(\"change\", (instance, changeObj) => {\r\n            // 节流进行实时渲染\r\n            const content = instance.getDoc().getValue();\r\n            throttleRender(() => this.setState({content}));\r\n            this.props.change(content);\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default SparkleMarkdownEditor;\r\n","import React, {ChangeEvent, ForwardedRef, useEffect, useState} from 'react';\r\nimport SparkleCard from \"../../helper/SparkleCard/SparkleCard\";\r\nimport {Input, Select, Button } from 'antd';\r\nimport SparkleBreadcrumb from \"../../helper/SparkleBreadcrumb/SparkleBreadcrumb\";\r\nimport style from './SparkleCreate.module.scss';\r\nimport SparkleMarkdownEditor from \"../../helper/SparkleMarkdownEditor/SparkleMarkdownEditor\";\r\nimport {SelectValue} from \"antd/es/select\";\r\n\r\n\r\nfunction SparkleCreate() {\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [topic, setTopic] = useState('');\r\n    const {Option} = Select;\r\n\r\n    function onTitleChange(title: ChangeEvent<HTMLInputElement>) {\r\n        setTitle(title.target.value);\r\n    }\r\n\r\n    function onContentChange(content: string) {\r\n        setContent(content);\r\n    }\r\n\r\n    function onTopicChange(value: SelectValue){\r\n        setTopic(value as string)\r\n    }\r\n\r\n    return <SparkleCard className={style.create}>\r\n        <div className={style.title}>\r\n            <SparkleBreadcrumb items={[\"Sparkle\", \"新主题\"]} />\r\n        </div>\r\n\r\n        <Input placeholder=\"主题\" onChange={onTitleChange}/>\r\n\r\n        <div className={style.editor}>\r\n            <SparkleMarkdownEditor change={onContentChange} />\r\n        </div>\r\n        <div className={style.submit}>\r\n                <Select\r\n                    showSearch\r\n                    style={{ width: 200, border: '1px solid rgba(0,0,0,0.5)' }}\r\n                    placeholder=\"选择一个节点\"\r\n                    onChange={onTopicChange}\r\n                >\r\n                    <Option value=\"jack\">Jack</Option>\r\n                    <Option value=\"lucy\">Lucy</Option>\r\n                    <Option value=\"tom\">Tom</Option>\r\n                </Select>\r\n            <Button type=\"primary\">发布主题</Button>\r\n        </div>\r\n\r\n    </SparkleCard>\r\n\r\n}\r\n\r\nexport default SparkleCreate;\r\n","import React from 'react';\r\nimport SparkleCard from \"../../helper/SparkleCard/SparkleCard\";\r\nimport style from './SparkleCollectionNodes.module.scss';\r\n\r\nfunction SparkleCollectionNodes() {\r\n\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n    let dragging: EventTarget & HTMLDivElement;\r\n    let container: EventTarget & HTMLDivElement;\r\n    function _index(el: Element | null) {\r\n        // TODO 较为费时  待优化\r\n        let index = 0;\r\n\r\n        if (!el || !el.parentNode) {\r\n            return -1;\r\n        }\r\n\r\n        while (el && (el = el.previousElementSibling)) {\r\n            //console.log(el);\r\n            index++;\r\n        }\r\n\r\n        return index;\r\n    }\r\n    // 使用事件委托机制， 将内部的事件委托至父元素container\r\n    function dragStart(event: React.DragEvent<HTMLDivElement>) {\r\n        dragging = event.currentTarget as EventTarget & HTMLDivElement;\r\n        // event.dataTransfer.setData(\"nodes\", dragging.innerText);\r\n        containerRef.current &&( container =  containerRef.current);\r\n    }\r\n\r\n    function dragOver(event: React.DragEvent<HTMLDivElement>) {\r\n        event.preventDefault(); // 代表元素可以被拖动\r\n        const target = event.currentTarget as EventTarget & HTMLDivElement;\r\n        if(target !== container) {\r\n            if(target !== dragging) {\r\n                const [draggingIndex, targetIndex] = [dragging.getAttribute(\"data-index\") , target.getAttribute(\"data-index\")];\r\n                if(draggingIndex && targetIndex) {\r\n                    if (draggingIndex < targetIndex) {\r\n                        target.parentNode?.insertBefore(dragging, target.nextSibling);\r\n                    } else {\r\n                        target.parentNode?.insertBefore(dragging, target);\r\n                    }\r\n                    target.setAttribute(\"data-index\", draggingIndex);\r\n                    dragging.setAttribute(\"data-index\", targetIndex);\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const nodesValue = [\"node1\", \"node2\"];\r\n    const nodes = nodesValue.map((node, index) => {\r\n        return <div key={index} draggable=\"true\" onDragStart={dragStart}  onDragOver={dragOver} data-index={index}>\r\n            <span><a href=\"#\" >{node}</a></span>\r\n        </div>\r\n    })\r\n\r\n    return <SparkleCard>\r\n        <div className={style.title}>\r\n            <h2>我的收藏</h2>\r\n        </div>\r\n        <div className={style.nodes} ref={containerRef}>\r\n            {nodes}\r\n        </div>\r\n    </SparkleCard>\r\n}\r\n\r\nexport default SparkleCollectionNodes;\r\n","import React from 'react';\r\nimport './SparkleMain.scss'\r\nimport SparkleRandList from \"../SparkleNavs/SparkleRandList/SparkleRandList\";\r\nimport SparkleIndex from \"./SparkleIndex/SparkleIndex\";\r\nimport SparkleLogin from './SparkleLogin/SparkleLogin'\r\nimport {Card} from \"antd\";\r\nimport {Switch, Route } from 'react-router-dom';\r\nimport SparkleRegister from \"./SparkleRegister/SparkleRegister\";\r\nimport SparkleUserDetailOrLogin from \"../SparkleNavs/SparkleUserDetailOrLogin/SparkleUserDetailOrLogin\";\r\nimport SparkleArticle from \"./SparkleArticle/SparkleArticle\";\r\nimport SparkleScrollToTop from \"../helper/SparkleScrollToTop\";\r\nimport SparkleCreate from \"./SparkleCreate/SparkleCreate\";\r\nimport SparkleCollectionNodes from \"../SparkleNavs/SparkleCollectionNodes/SparkleCollectionNodes\";\r\n\r\nclass SparkleMain extends React.Component {\r\n    render() {\r\n        return <main>\r\n            <div className=\"container\">\r\n                <div className=\"main_wrapper\">\r\n                    <div className=\"middle\">\r\n                        <SparkleScrollToTop />\r\n                        <Switch>\r\n                            <Route path='/login' >\r\n                                <SparkleLogin/>\r\n                            </Route>\r\n                            <Route path=\"/register\">\r\n                                <SparkleRegister/>\r\n                            </Route>\r\n                            <Route path=\"/article/:articleId\">\r\n                                <SparkleArticle/>\r\n                            </Route>\r\n                            <Route path=\"/create\">\r\n                                <SparkleCreate/>\r\n                            </Route>\r\n                            <Route path=\"/\">\r\n                                <SparkleIndex/>\r\n                            </Route>\r\n                        </Switch>\r\n                    </div>\r\n\r\n                    <div className=\"right\">\r\n                        <SparkleUserDetailOrLogin/>\r\n                        <SparkleCollectionNodes/>\r\n                        <SparkleRandList/>\r\n                        <Card/>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n        </div>\r\n        </main>\r\n    }\r\n}\r\n\r\nexport default SparkleMain;\r\n","import React from 'react';\r\nimport './SparkleFooter.scss'\r\n\r\nclass SparkleFooter extends React.Component {\r\n    render() {\r\n        return <footer>\r\n            <div className=\"container\">\r\n                <div className=\"helper\">\r\n                    <ul>\r\n                        <li>关于</li>\r\n                        <li>帮助文档</li>\r\n                        <li>FAQ</li>\r\n                        <li>API</li>\r\n                        <li>我们的愿景</li>\r\n                        <li>广告投放</li>\r\n                        <li>感谢</li>\r\n                        <li>实用小工具</li>\r\n                        <li>4990人在线</li>\r\n                        <li>最高纪录 5298</li>\r\n                        <li>Select Language</li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"slogan\">\r\n                    <span>创意工作者的社区</span>\r\n                </div>\r\n                <div className=\"website_info\">\r\n                    <span>VERSION: 3.9.8.5 62ms UTC 06:06</span>\r\n                    <br/>\r\n                    <span>Do have faith in what you're doing</span>\r\n                </div>\r\n                <div>Icons made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>\r\n\r\n            </div>\r\n        </footer>\r\n    }\r\n}\r\n\r\nexport default SparkleFooter;\r\n","import Mock from 'mockjs';\r\nimport {TabNode, GoNode, NewNode} from \"../../types/main/mainPage\";\r\nimport {RankList} from '../../types/navs/rankList'\r\nimport {Resp} from \"../../types/base/HTTP\";\r\nimport {LoginRespData} from \"../../types/main/login\";\r\nimport {RegisterRes} from \"../../types/main/register\";\r\nimport {Node} from \"../../types/navs/nodes\";\r\n\r\nMock.setup({\r\n    timeout: '200-600'\r\n})\r\n\r\n// 获取最上面的tabs\r\nMock.mock( /\\/api\\/v\\d+\\/tabs/, () => {\r\n    let ans: TabNode[] = [];\r\n    let len = Mock.Random.integer(5, 20);\r\n    for(let i = 0; i < len; i++) {\r\n        ans.push({\r\n            value: Mock.Random.ctitle(2, 3),\r\n            // url: `/${Mock.Random.word(3,6)}`,\r\n            tabId: i\r\n        });\r\n    }\r\n\r\n    return ans;\r\n})\r\n\r\n// 获取tabs下相关的gos\r\nMock.mock( /\\/api\\/v\\d+\\/gos\\/.*/, () => {\r\n    let ans: GoNode[] = [];\r\n    let len = Mock.Random.integer(5, 20);\r\n    for(let i = 0; i < len; i++) {\r\n        ans.push({\r\n            value: Mock.Random.ctitle(2, 3),\r\n            url: `/${Mock.Random.word(3,6)}`,\r\n        });\r\n    }\r\n\r\n    return ans;\r\n})\r\n\r\n// 获取tabs对应的news\r\nMock.mock( /\\/api\\/v\\d+\\/news\\/.*/, () => {\r\n    let ans:NewNode[] = [];\r\n    for(let i = 0; i < 20; i++) {\r\n        ans.push({\r\n            title: Mock.Random.csentence(5, 30),\r\n            go: Mock.Random.ctitle(2, 3),\r\n            author: Mock.Random.cname(),\r\n            time: Mock.Random.date('T'),\r\n            lastResp: Mock.Random.cname(),\r\n            respNumber: Mock.Random.integer(0, 500),\r\n            topper: i < 3,\r\n        });\r\n    }\r\n\r\n    return ans;\r\n})\r\n\r\n// 获取全站的rank\r\nMock.mock( /\\/api\\/v\\d+\\/rank/, () => {\r\n    let ans: RankList[] = [];\r\n    let len = Mock.Random.integer(5, 20);\r\n    for(let i = 0; i < len; i++) {\r\n        ans.push({\r\n            authorAvatar: Mock.Random.cname(),\r\n            authorUrl: Mock.Random.cname(),\r\n            title: Mock.Random.csentence(5, 30),\r\n            url: Mock.Random.cname()\r\n\r\n        });\r\n    }\r\n\r\n    return ans;\r\n})\r\n\r\n// 获取节点导航\r\nMock.mock( /\\/api\\/v\\d+\\/nodes/, () => {\r\n    let ans: Node[] = [];\r\n    let len = Mock.Random.integer(5, 20);\r\n    for(let i = 0; i < len; i++) {\r\n        let children: Node[] = [];\r\n        let l = Mock.Random.integer(2, 20);\r\n        for(let j = 0; j < l; j++) {\r\n            children.push({\r\n                nodeId: '13',\r\n                name: Mock.Random.ctitle(2, 6),\r\n            });\r\n        }\r\n        ans.push({\r\n            nodeId: '113',\r\n            name: Mock.Random.ctitle(2, 3),\r\n            children: children\r\n        });\r\n    }\r\n\r\n    return ans;\r\n})\r\n\r\n\r\n\r\n///---------------------------用户模块API-----------------------------///\r\n// 登录\r\nMock.mock(/\\/api\\/v\\d+\\/user\\/login/, 'post', () => {\r\n    let ans: Resp<LoginRespData> = {\r\n        code: 200,\r\n        data:{\r\n            _id: '123212232',\r\n            username: 'Nike',\r\n            nodeCollectionSize: 123123,\r\n            specialFollowSize: 111,\r\n            topicCollectionSize: 192283\r\n        }\r\n    }\r\n\r\n    return ans;\r\n})\r\n\r\n// 注册\r\nMock.mock(/\\/api\\/v\\d+\\/user\\/register/, 'post', () => {\r\n    let ans: Resp<RegisterRes> = {\r\n        code: 200,\r\n        data:{\r\n            _id: '123212232',\r\n            username: 'Nike',\r\n            nodeCollectionSize: 123123,\r\n            specialFollowSize: 111,\r\n            topicCollectionSize: 192283\r\n        }\r\n    }\r\n\r\n    return ans;\r\n})\r\n","import SparkleHeader from './components/SparkleHeader/SparkleHeader';\r\nimport SparkleMain from \"./components/SparkleMain/SparkleMain\";\r\nimport SparkleFooter from \"./components/SparkleFooter/SparkleFooter\";\r\nimport {HashRouter as Router} from \"react-router-dom\";\r\nimport './App.css';\r\nimport React from \"react\";\r\nimport './apis/mock'\r\nimport 'nprogress/nprogress.css'\r\nimport Provider from \"./store/store\";\r\nif(navigator?.userAgent?.toLowerCase().indexOf(\"firefox\") > -1) {\r\n    document.body.ondrop = function(event: DragEvent): void {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n    }\r\n}\r\n\r\nfunction App() {\r\n    return (\r\n        <Provider>\r\n        <Router>\r\n            <SparkleHeader/>\r\n            <SparkleMain/>\r\n            <SparkleFooter/>\r\n            </Router>\r\n        </Provider>\r\n    );\r\n}\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n          <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ud\":\"SparkleUserDetail_ud__2NWmn\",\"head\":\"SparkleUserDetail_head__rqj8j\",\"middle\":\"SparkleUserDetail_middle__2O3j3\",\"block\":\"SparkleUserDetail_block__3FzZW\",\"newTopic\":\"SparkleUserDetail_newTopic__38FZU\",\"info\":\"SparkleUserDetail_info__2hHXR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"srl\":\"SparkleRankList_srl__2SNbr\",\"title\":\"SparkleRankList_title__NCfM0\",\"rank\":\"SparkleRankList_rank__2yyUw\",\"head\":\"SparkleRankList_head__1wKLR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"SparkleComment_title__2dOwT\",\"comment\":\"SparkleComment_comment__3p6qg\",\"avatar\":\"SparkleComment_avatar__3FX6X\",\"main\":\"SparkleComment_main__3xPRR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"SparkleNodes_head__3aQaa\",\"body\":\"SparkleNodes_body__HA6YP\",\"row\":\"SparkleNodes_row__30pXx\",\"title\":\"SparkleNodes_title__kKYYr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"SparklePost_head__2if0k\",\"title\":\"SparklePost_title__2HV-5\",\"poster\":\"SparklePost_poster__2wO63\",\"body\":\"SparklePost_body__3JMwK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"SparkleCreate_title__kkAws\",\"editor\":\"SparkleCreate_editor__27B11\",\"submit\":\"SparkleCreate_submit__3IVSw\"};"],"sourceRoot":""}